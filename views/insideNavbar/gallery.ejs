<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Gallery - MI AL IKHLAS</title>

    <!-- mobile responsive meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- ** Plugins Needed for the Project ** -->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
    <!-- slick slider -->
    <link rel="stylesheet" href="plugins/slick/slick.css">
    <!-- themefy-icon -->
    <link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
    <!-- animation css -->
    <link rel="stylesheet" href="plugins/animate/animate.css">
    <!-- aos -->
    <link rel="stylesheet" href="plugins/aos/aos.css">
    <!-- venobox popup -->
    <link rel="stylesheet" href="plugins/venobox/venobox.css">

    <!-- Main Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!--Favicon-->
    <link rel="shortcut icon" href="images/logoMi.png" type="image/x-icon">
    <link rel="icon" href="images/logoMi.png" type="image/x-icon">

  </head>

  <body>
    <!-- header -->
    <header class="fixed-top header">
      <!-- top header -->

      <!-- INCLUDE TOP HEADER -->
      <%- include("../include/_topheader.ejs") %>  

      <!-- navbar -->
      <div class="navigation w-100">
        <div class="container">

          <!-- INCLUDE NAVBAR -->
          <%- include("../include/_navbar.ejs") %>

        </div>
      </div>
    </header>
    <!-- /header -->

    <!-- Login Modal -->

    <!-- INCLUDE LOGIN MODAL -->
    <%- include("../include/_login.ejs") %>

    <!-- page title -->
    <section class="page-title-section overlay">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <ul class="list-inline custom-breadcrumb">
              <li class="list-inline-item"><a class="h2 text-primary font-secondary" href="/gallery">Gallery</a></li>
              <li class="list-inline-item text-white h3 font-secondary @@nasted"></li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <!-- /page title -->


    <!-- gallery grid -->
    <section class="section">
      <div class="container">
        <% if (galleryList && galleryList.length > 0) { %>
        <div class="row justify-content-center">
          <% galleryList.forEach(gallery => { %>
          <!-- Gallery Items -->
          <div class="col-lg-4 col-sm-6 mb-5">
            <div class="card p-0 border-primary rounded-0 hover-shadow">
              <img class="card-img-top rounded-0 gallery-item pics-thumbnail" src="/uploads/<%= gallery.galeriimg || 'uploads/default.jpg' %>" alt="<%= gallery.judul %> - Ekstrakurikuler">
              <div class="card-body">
                <a>
                  <h4 class="card-title"><%= gallery.judul %></h4>
                </a>
              </div>
            </div>
          </div>
          <% }) %>
        </div>
        <% } else { %>
        <p>No extracurricular activities found.</p>
        <% } %>
      </div>
    </section>
    <!-- /gallery grid -->

    <!-- Modal for Popup Image -->
    <div id="imageModal" class="modal">
      <span class="close" id="closeModal">&times;</span>
      <img id="modalImage" class="modal-content" src="">
    </div>
    <!-- /Modal for Popup Image -->

    <!-- footer -->

    <!-- INCLUDE FOOTER -->
    <%- include("../include/_footer.ejs") %>

    <!-- /footer -->

    <!-- jQuery -->
    <script src="plugins/jQuery/jquery.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="plugins/bootstrap/bootstrap.min.js"></script>
    <!-- slick slider -->
    <script src="plugins/slick/slick.min.js"></script>
    <!-- aos -->
    <script src="plugins/aos/aos.js"></script>
    <!-- venobox popup -->
    <script src="plugins/venobox/venobox.min.js"></script>
    <!-- mixitup filter -->
    <script src="plugins/mixitup/mixitup.min.js"></script>
    <!-- google map -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU&libraries=places"></script>
    <script src="plugins/google-map/gmap.js"></script>

    <!-- Main Script -->
    <script src="js/script.js"></script>

    <!-- Script for modal images -->
    <script>
    // Wait for the DOM to load
    document.addEventListener("DOMContentLoaded", function () {
      // Get modal element
      var modal = document.getElementById("imageModal");

      // Get modal image element
      var modalImg = document.getElementById("modalImage");

      // Get all images in the gallery (with 'gallery-item' class)
      var galleryImages = document.querySelectorAll('.gallery-item');

      // Add click event listeners to each image
      galleryImages.forEach(function(image) {
        image.addEventListener('click', function() {
          modal.style.display = "block"; // Show modal
          modalImg.src = image.src; // Set the modal image source to the clicked image
        });
      });

      // Get the close button element
      var closeButton = document.getElementById("closeModal");

      // Close the modal when the close button is clicked
      closeButton.addEventListener('click', function() {
        modal.style.display = "none";
      });

      // Close the modal if the user clicks anywhere outside the image
      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          modal.style.display = "none";
        }
      });
    });
    </script>
  </body>
</html>
